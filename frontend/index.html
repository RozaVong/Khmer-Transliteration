<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ‡°ğŸ‡­ English â†’ Khmer Translator</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Khmer:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Khmer Transliteration System</h1>
            <button id="themeToggle" class="theme-toggle">ğŸŒ™ Dark</button>
        </div>
        <p class="subtitle">Word-by-Word Translation</p>

        <div class="status" id="statusIndicator">ğŸš€ Server Running - Type to translate!</div>

        <div class="suggestions">
            <div class="suggestion-chip" data-word="srolanh">srolanh</div>
            <div class="suggestion-chip" data-word="nhom">nhom</div>
            <div class="suggestion-chip" data-word="tv">tv</div>
            <div class="suggestion-chip" data-word="sala">sala</div>
        </div>

        <div class="input-section">
            <label for="input">Type here (words separated by spaces):</label>
            <textarea id="input" placeholder="e.g. nhom tv sala or hello how are you"></textarea>
        </div>

        <div class="button-group">
            <button id="translateBtn">ğŸ”„ Translate</button>
            <button id="clearBtn">ğŸ—‘ï¸ Clear</button>
        </div>

        <div class="loading" id="loading">
            <span class="spinner"></span>
            <span>Translating word by word...</span>
        </div>

        <div class="progress-text" id="progressText"></div>

        <div class="input-section">
            <label for="output">Khmer Output (No Spacing):</label>
            <textarea id="output" readonly></textarea>
        </div>
        
        <!-- Translation Details -->
        <div class="details-section" id="detailsSection" style="display: none;">
            <h3>Translation Details</h3>
            <div class="details-grid">
                <div class="detail-item">
                    <span class="detail-label">Confidence:</span>
                    <span class="detail-value" id="confidenceValue">0%</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Words:</span>
                    <span class="detail-value" id="wordCountValue">0</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Prediction ID:</span>
                    <span class="detail-value" id="predictionId">N/A</span>
                </div>
            </div>
            
            <!-- Word Breakdown -->
            <div class="breakdown-section" id="breakdownSection">
                <h4>Word-by-Word Breakdown</h4>
                <div class="breakdown-container" id="breakdownContainer">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Feedback Section -->
        <div class="feedback-section" id="feedbackSection" style="display: none; margin-top: 30px; padding: 20px; background: rgba(255,255,255,0.8); border-radius: 12px; border: 2px solid rgba(59,130,246,0.2);">
            <h3 style="margin-bottom: 15px; color: #1e40af;">Rate This Translation</h3>
            <div class="rating-stars" style="display: flex; gap: 5px; margin-bottom: 10px; font-size: 24px; cursor: pointer;">
                <span class="star" data-rating="1">â­</span>
                <span class="star" data-rating="2">â­</span>
                <span class="star" data-rating="3">â­</span>
                <span class="star" data-rating="4">â­</span>
                <span class="star" data-rating="5">â­</span>
            </div>
            <div class="rating-text" id="ratingText" style="margin-bottom: 15px; font-weight: 600; color: #374151;">Click a star to rate</div>
            <textarea id="feedbackComment" placeholder="Optional feedback..." style="width: 100%; padding: 10px; border: 2px solid #d1d5db; border-radius: 8px; margin-bottom: 15px; resize: vertical; min-height: 80px;"></textarea>
            <button id="submitFeedback" style="background: #3b82f6; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600;">Submit Feedback</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>